!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";Date.now=Date.now||function(){return(new Date).getTime()};var r=Date.now(),a=function(){},i={noop:a,warn:function(){var e="object"==typeof console?console.warn:a;try{var t={warn:e};t.warn.call(t)}catch(e){return a}return e}(),key:"__bl",win:"object"==typeof window&&window.document?window:void 0,regionMap:{cn:"https://arms-retcode.aliyuncs.com/r.png?",sg:"https://arms-retcode-sg.aliyuncs.com/r.png?",daily:"http://arms-retcode-daily.alibaba.net/r.png?"},defaultImgUrl:"https://arms-retcode.aliyuncs.com/r.png?",$al:function(e){if(Object.create)return Object.create(e);var t=function(){};return t.prototype=e,new t},each:function(e,t){var n=0,r=e.length;if(this.T(e,"Array"))for(;n<r&&!1!==t.call(e[n],e[n],n);n++);else for(n in e)if(!1===t.call(e[n],e[n],n))break;return e},$a8:function(e,t,n){if("function"!=typeof e)return n;try{return e.apply(this,t)}catch(e){return n}},T:function(e,t){var n=Object.prototype.toString.call(e).substring(8).replace("]","");return t?n===t:n},$am:function(e,t){if(!e)return"";if(!t)return e;var n=this,r=n.T(t);return"Function"===r?n.$a8(t,[e],e):"Array"===r?(this.each(t,function(t){e=n.$am(e,t)}),e):"Object"===r?e.replace(t.rule,t.target||""):e.replace(t,"")},J:function(e){if(!e||"string"!=typeof e)return e;var t=null;try{t=JSON.parse(e)}catch(e){}return t},pick:function(e){return 1===e||1===Math.ceil(Math.random()*e)},$a9:function(e){if("sample"in e){var t=e.sample,n=t;t&&/^\d+(\.\d+)?%$/.test(t)&&(n=parseInt(100/parseFloat(t))),0<n&&1>n&&(n=parseInt(1/n)),n>=1&&n<=100?e.sample=n:delete e.sample}return e},on:function(e,t,n,r){return e.addEventListener?e.addEventListener(t,function a(i){r&&e.removeEventListener(t,a,!1),n.call(this,i)},!1):e.attachEvent&&e.attachEvent("on"+t,function a(i){r&&e.detachEvent("on"+t,a),n.call(this,i)}),this},off:function(e,t,n){return n?(e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent(t,n),this):this},delay:function(e,t){return-1===t?(e(),null):setTimeout(e,t||0)},ext:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sub:function(e,t){var n={};return this.each(e,function(e,r){-1!==t.indexOf(r)&&(n[r]=e)}),n},uu:function(){for(var e,t,n=20,r=new Array(n),a=Date.now().toString(36).split("");n-- >0;)t=(e=36*Math.random()|0).toString(36),r[n]=e%3?t:t.toUpperCase();for(var i=0;i<8;i++)r.splice(3*i+2,0,a[i]);return r.join("")},seq:function(){return(r++).toString(36)},encode:function(e,t){try{e=t?encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29"):encodeURIComponent(e)}catch(e){}return e},serialize:function(e){e=e||{};var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&t.push(n+"="+this.encode(e[n],"msg"===n));return t.join("&")},$b6:function(e,t){if(!e||"string"!=typeof e)return!1;var n=/arms-retcode[\w-]*\.aliyuncs/.test(e);return!n&&t&&(n=/(\.png)|(\.gif)|(alicdn\.com)/.test(e)),!n},$az:function(e){return!(!e||!e.message||/failed[\w\s]+fetch/i.test(e.message))},$an:function(e){return e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},$aw:function(e){return function(){return e+"() { [native code] }"}},checkSameOrigin:function(e,t){if(!t||!e)return!1;if(/^(http|https):\/\//.test(e)){var n=e.split("/");return(e=n[0]+"//"+n[2])===t}return!0},getRandIP:function(){for(var e=[],t=0;t<4;t++){var n=Math.floor(256*Math.random());e[t]=(n>15?"":"0")+n.toString(16)}return e.join("")},getSortNum:function(e){return e?(e+=1)>=1e3&&e<=9999?e:e<1e3?e+1e3:e%1e4+1e3:1e3},getRandNum:function(e){return e&&"string"==typeof e?e.length<5?this.getNum(5):e.substring(e.length-5):this.getNum(5)},getNum:function(e){for(var t=[],n=0;n<e;n++){var r=Math.floor(16*Math.random());t[n]=r.toString(16)}return t.join("")}};t.a=i},function(e,t,n){"use strict";t.a={TIMING_KEYS:["","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","","domInteractive","","domContentLoadedEventEnd","","loadEventStart","","msFirstPaint","secureConnectionStart"]}},function(e,t,n){"use strict";var r=n(0),a=n(13),i=n(7),o=n(5),s=n(10),c=n(8),u=n(11),f=n(9),l=r.a,p=a.a,h=i.a,g=o.default,d=l.win,v=d.document,y=/^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig)$/,m=function(e){var t=this;return p.call(t,e),t._initialPage=e.page&&l.$a8(e.page,[],e.page+"")||null,t._health={errcount:0,apisucc:0,apifail:0},t.$ag=function(e,n){"error"===e?t._health.errcount++:"api"===e&&t._health[n.success?"apisucc":"apifail"]++},t.$ah(),t.$ai(),t.$aj(1e4),Object.defineProperty&&d.addEventListener&&Object.defineProperty(t,"pipe",{set:t.$ak}),t};m.prototype=l.$al(p.prototype),l.ext(p._root.dftCon,{uid:null,ignoreUrlPath:[{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},/\/$/],ignoreApiPath:{rule:/(\w+)\/\d{2,}/g,target:"$1"},ignoreUrlCase:!0,imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",disableHook:!1,autoSendPv:!0,enableSPA:!1,enableLinkTrace:!1,sendResource:!0,parseHash:function(e){return(e?l.$an(e.replace(/^#\/?/,"")):"")||"[index]"},parseResponse:function(e){if(!e||"object"!=typeof e)return{};var t=e.code,n=e.msg||e.message||e.subMsg||e.errorMsg||e.ret||e.errorResponse||"";return"object"==typeof n&&(t=t||n.code,n=n.msg||n.message||n.info||n.ret||JSON.stringify(n)),{msg:n,code:t,success:!0}}}),l.ext(m.prototype,{constructor:m,_super:p,$a2:function(e){var t=this;if(t.hasReady)return e();"complete"===v.readyState?(t.hasReady=!0,e()):l.on(d,"load",function(){t.hasReady=!0,e()},!0)},$a7:function(e){var t=this._conf,n=t.page,r=location,a=r.host+r.pathname;return n&&!e?l.$a8(n,[],n+""):this._initialPage||l.$am(t.ignoreUrlCase?a.toLowerCase():a,t.ignoreUrlPath)},setPage:function(e,t){var n=this,r=n.$ao;if(!1!==t){if(!e||e===r)return n;n.$ao=e,clearTimeout(n.$ap),n.$aq(1),n.$a6(),n.$ap=setTimeout(function(){n.$ar()},10)}else n.$ao=e;return n._conf.page=e,n},setConfig:function(e,t){if(e&&"object"==typeof e){l.$a9(e),e=this.$aa(e);var n=this._conf;if(this._conf=l.ext({},n,e),!t){var r="disableHook";r in e&&n[r]!==e[r]&&(e[r]?this.removeHook():this.addHook()),(r="enableSPA")in e&&n[r]!==e[r]&&this.$as(e[r])}}},$ac:function(e){h(e,this.getConfig("imgUrl"))},$ad:function(e,t){var n={};n[t]=e[t],delete e[t];var r="";"object"==typeof e&&(r=l.serialize(e)),g(n,this.getConfig("imgUrl")+r+"&post_res=")},$ak:function(e){var t=this;if(!e||!e.length)return t;try{if("Array"===l.T(e[0]))return l.each(e,function(e){return t.$ak(e)});if("Array"!==l.T(e))return t;var n=e.shift();if(!y.test(n))return t;t[n].apply(t,e)}catch(e){return l.warn("[retcode] error in sendPipe",e),t}},$at:function(){var e=l.ext({},this._health);e.healthy=e.errcount>0?0:1,e.begin=Date.now();var t=e.begin-this.sBegin;e.stay=t,this._lg("health",e,1),this._health={errcount:0,apisucc:0,apifail:0}},createInstance:function(e){e=l.ext({pid:this._conf.pid},e);var t=this.__proto__.constructor(e);return e.page&&t.$ar(),t}}),n.i(s.a)(m,d,v),n.i(c.a)(m,d,v),n.i(u.a)(m,d),n.i(f.a)(m,d),m._super=p,m._root=p._root,p.Browser=m,t.a=m},function(e,t,n){"use strict";var r=n(0),a=r.a,i=function(e){return this.ver="1.5.1",this._conf=a.ext({},i.dftCon),this.$a5={},this.$a1=[],this.hash=a.seq(),this.$a6(),this.setConfig(e),this.rip=a.getRandIP(),this.record=999,this["EagleEye-TraceID"]=this.getTraceId()["EagleEye-TraceID"],this._common={},this};i.dftCon={sample:1,tag:"",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",region:null},i.prototype={constructor:i,$a2:function(e){return e()},$a7:function(){var e=this._conf.page;return a.$a8(e,[],e+"")},setPage:function(){},setConfig:function(e){e&&"object"==typeof e&&(a.$a9(e),e=this.$aa(e),this._conf=a.ext({},this._conf,e))},$aa:function(e){var t=e.region,n=e.imgUrl;if(t){var r=a.regionMap[t];return e.imgUrl=r||a.defaultImgUrl,e}return n&&(e.imgUrl=n),e},$ab:function(e){if(this.getConfig("debug"))return!0;var t=a.regionMap,n=!1;for(var r in t)if(t[r]===e){n=!0;break}return!n&&a.warn("[retcode] invalid url: "+e),n},$ac:function(){},$ad:function(){},$ae:function(){return{}},setCommonInfo:function(e){e&&"object"==typeof e&&(this._common=a.ext({},this._common,e))},$a6:function(){this.session=a.uu(),this.sBegin=Date.now()},getTraceId:function(){var e=this.rip,t=Date.now(),n=a.getSortNum(this.record),r=e+t+n+a.getRandNum(this._conf.pid);return this["EagleEye-TraceID"]=r,this.record=n,{"EagleEye-TraceID":r}},getSessionId:function(){return{"EagleEye-SessionID":this.session}},getConfig:function(e){return e?this._conf[e]:a.ext({},this._conf)},$af:function(e){return 1===e||("boolean"==typeof this.$a5[e]?this.$a5[e]:(this.$a5[e]=a.pick(e),this.$a5[e]))},$a4:function(){var e;for(clearTimeout(this.$a3),this.$a3=null;e=this.$a1.pop();)"res"===e.t?this.$ad(e,"res"):"error"===e.t?this.$ad(e,"err"):this.$ac(e);return this},_lg:function(e,t,n){var r=this._conf;return this.$ab(r.imgUrl)&&t&&!r.disabled&&r.pid?n&&!this.$af(n)?this:(t=a.ext({t:e,times:1,page:this.$a7(),tag:r.tag||"",begin:Date.now()},t,this.$ae(),this._common,{pid:r.pid,_v:this.ver,sid:this.session,sampling:n||1,z:a.seq()}),function(e,t){var n;"error"===t.t&&(n=e.$a1[0])&&"error"===n.t&&t.msg===n.msg?n.times++:(e.$a1.unshift(t),e.$a2(function(){e.$a3=a.delay(function(){e.$a4()},"error"===t.t?3e3:-1)}))}(this,t)):this},custom:function(e,t){if(!e||"object"!=typeof e)return this;var n=!1,r={begin:Date.now()};return a.each(e,function(e,t){return!(n=t&&t.length<=20)&&a.warn("[retcode] invalid key: "+t),r["x-"+t]=e,n}),n?this._lg("custom",r,t||1):this}},t.a=i},function(e,t,n){"use strict";var r=n(0),a=n(1),i=r.a,o=a.a.TIMING_KEYS;t.a=function(){var e=i.win||{},t=e.performance;if(!t||"object"!=typeof t)return null;var n={},r=t.timing||{},a=Date.now(),s=1;if("function"==typeof e.PerformanceNavigationTiming){var c=t.getEntriesByType("navigation")[0];c&&(r=c,s=2)}i.each({dns:[3,2],tcp:[5,4],ssl:[5,17],ttfb:[7,6],trans:[8,7],dom:[10,8],res:[14,12],firstbyte:[7,2],fpt:[8,1],tti:[10,1],ready:[12,1],load:[14,1]},function(e,t){var a=r[o[e[1]]],i=r[o[e[0]]];if(2===s||a>0&&i>0){var c=Math.round(i-a);c>=0&&c<36e5&&(n[t]=c)}});var u=e.navigator.connection,f=t.navigation||{};n.ct=u?u.effectiveType||u.type:"";var l=u?u.downlinkMax||u.bandwidth||-1:-1;return l=l>999?999:l,n.bandwidth=l,n.navtype=1===f.type?"Reload":"Other",1===s&&r[o[16]]>0&&r[o[1]]>0&&(n.fpt=r[o[16]]-r[o[1]]),1===s&&r[o[1]]>0?n.begin=r[o[1]]:2===s&&n.load>0?n.begin=a-n.load:n.begin=a,n}},function(e,n,r){"use strict";var a=r(0),i=a.a,o="object"==typeof window?window:{},s=o.__oXMLHttpRequest_||o.XMLHttpRequest;s="function"==typeof s?s:void 0,t.exports=function(e,t){try{var n=new s;n.open("POST",t,!0),n.setRequestHeader("Content-Type","text/plain"),n.send(JSON.stringify(e))}catch(e){i.warn("[retcode] Failed to log, exception is :\n"+e)}}},function(e,t,n){"use strict";var r=n(0),a=n(1),i=r.a,o=a.a.TIMING_KEYS;t.a=function(){var e=i.win||{},t=e.performance;if(!t||"object"!=typeof t||"function"!=typeof t.getEntriesByType)return null;var n={},r=t.timing||{},a=t.getEntriesByType("resource")||[];if(n.begin=r[o[1]]||Date.now(),"function"==typeof e.PerformanceNavigationTiming){var s=t.getEntriesByType("navigation")[0];s&&(r=s)}return i.each({dom:[10,8],load:[14,1]},function(e,t){var a=r[o[e[1]]],i=r[o[e[0]]];if(a>0&&i>0){var s=Math.round(i-a);s>=0&&s<36e5&&(n[t]=s)}}),n.res=JSON.stringify(a),n}},function(e,t,n){"use strict";var r=n(0),a=r.a,i="object"==typeof window?window:{},o=i.__oFetch_||i.fetch;o="function"==typeof o?o:void 0,t.a=function(e,t){var n=-1;"object"==typeof e&&(n=e.z,e=a.serialize(e));var r=t+e;if(o)return o(r,{method:"HEAD",mode:"no-cors"}).catch(a.noop);if(i.document&&i.document.createElement){var s="__request_hold_"+n,c=i[s]=new Image;c.onload=c.onerror=function(){i[s]=void 0},c.src=r,c=null}}},function(e,t,n){"use strict";var r=n(0),a=r.a;t.a=function(e,t,n){function r(e,t,n){var a=0,i=e.tagName;if("SCRIPT"!==i&&"STYLE"!==i&&"META"!==i&&"HEAD"!==i){var s=e.children?e.children.length:0;if(s>0)for(var c=e.children,u=s-1;u>=0;u--)a+=r(c[u],t+1,a>0);if(a<=0&&!n&&!(e.getBoundingClientRect&&e.getBoundingClientRect().top<o))return 0;a+=1+.5*t}return a}function i(e){for(var t=1;t<e.length;t++)if(e[t].score<e[t-1].score)return e.splice(t,1),i(e);return e}var o=t.innerHeight||0,s=[],c=null,u=0;a.ext(e.prototype,{$aj:function(e){var i=this;if(!i._conf||!i._conf.useFmp)return null;if(!t.MutationObserver)return a.warn("[retcode] first meaningful paint can not be retrieved"),i.$au(),null;a.on(t,"beforeunload",function(){i.$av(0,!0)});var o=t.MutationObserver;return(c=new o(function(){!function(e){var t=Date.now()-e,a=n.querySelector("body");if(a){var i=0;i+=r(a,1,!1),s.push({score:i,t:t})}else s.push({score:0,t:t})}(i._startTime)})).observe(document,{childList:!0,subtree:!0}),u=1,i.$a2(function(){i.$av(e)}),c},$av:function(e,t){var n=this;if(c&&u)if(t||!function(e,t){var n=Date.now()-e;return!(n>t||n-(s&&s.length&&s[s.length-1].t||0)>1e3)}(n._startTime,e)){c.disconnect(),u=0,s=i(s);for(var r=null,o=1;o<s.length;o++)if(s[o].t>=s[o-1].t){var f=s[o].score-s[o-1].score;(!r||r.rate<=f)&&(r={t:s[o].t,rate:f})}r&&r.t>0?n.$au({fmp:r.t}):n.$au()}else a.delay(function(){n.$av(e)},500)}})}},function(e,t,n){"use strict";var r=n(0);t.a=function(e,t){var n=r.a,a=t.history||{},i=t.document,o=function(e,n){var r;t.CustomEvent?r=new CustomEvent(e,{detail:n}):((r=i.createEvent("HTMLEvents")).initEvent(e,!1,!0),r.detail=n),t.dispatchEvent(r)},s=function(e){var t=a[e];"function"==typeof t&&(a[e]=function(r,i,s){var c=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),u=location.href,f=t.apply(a,c);if(!s||"string"!=typeof s)return f;if(s===u)return f;try{var l=u.split("#"),p=s.split("#"),h=n.$an(l[0]),g=n.$an(p[0]),d=l[1]&&l[1].replace(/^\/?(.*)/,"$1"),v=p[1]&&p[1].replace(/^\/?(.*)/,"$1");h!==g?o("historystatechange",g):d!==v&&o("historystatechange",v)}catch(t){n.warn("[retcode] error in "+e+": "+t)}return f},a[e].toString=n.$aw(e))};n.ext(e.prototype,{$ax:function(){return this.$ay?this:(s("pushState"),s("replaceState"),this.$ay=!0,this)}})}},function(e,t,n){"use strict";var r=n(0),a=n(4),i=n(6);t.a=function(e,t,n){var o=r.a,s=a.a,c=i.a,u=null,f=n.documentElement,l=t.innerWidth||f.clientWidth||n.body.clientWidth,p=t.innerHeight||f.clientHeight||n.body.clientHeight,h=t.navigator.connection,g={sr:screen.width+"x"+screen.height,vp:l+"x"+p,ct:h?h.effectiveType||h.type:""},d={},v=function(e,t,r,a,i){if(void 0===t){var s,c;if(!d[e]){s=new RegExp(e+"=([^;]+)");try{c=s.exec(n.cookie)}catch(e){return o.warn("[retcode] can not get cookie:",e),null}c&&(d[e]=c[1])}return d[e]}var u=e+"="+t;a&&(u+="; domain="+a),u+="; path="+(i||"/"),r&&(u+="; max-age="+r);try{return n.cookie=u,!!n.cookie}catch(e){return o.warn("[retcode] can not set cookie: ",e),!1}},y=function(e){var t=e._conf.uid||v("_nk_")||v("_bl_uid");return t||(t=o.uu(),v("_bl_uid",t,15552e3))?t:null};return o.ext(e.prototype,{activeErrHandler:function(e){return u&&!e?this:(u=this,this)},errorHandler:function(e){if(!e)return this;var t=e.type;return"error"===t?this.error(e.error||{message:e.message},e):"unhandledrejection"===t&&o.T(e.reason,"Error")&&o.$az(e.reason)&&this.error(e.reason),this},$au:function(e){var t=this;t.$a2(function(){var n=s();n&&(n.page=t.$a7(!0),e&&(n=o.ext(n,e)),t._lg("perf",n,t.getConfig("sample")))})},$b0:function(e){var t=this;t.$a2(function(){var n=c();n&&(n.load&&n.load<=2e3||n.load&&n.load<=8e3&&Math.random()>.05||(n.page=t.$a7(!0),n.dl=location.href,e&&(n=o.ext(n,e)),t._lg("res",n,t.getConfig("sample"))))})},$ar:function(){var e=this;e.$a2(function(){var r=function(e){var r=y(e),a=t.devicePixelRatio||1;return{uid:r,dt:n.title,dl:location.href,dr:n.referrer,dpr:a.toFixed(2),de:(n.characterSet||n.defaultCharset||"").toLowerCase(),ul:f.lang,begin:Date.now()}}(e);r&&r.uid&&e._lg("pv",r)})},$ae:function(){return g.uid=y(this),g},$aq:function(e){var t=Date.now();if(t-this._lastUnload<200)return this;this._lastUnload=t,this.$at(e),this.$b1&&(this._lg("speed",this.$b1),this.$b1=null,clearTimeout(this.$b2)),this.$a4()},$as:function(e){var n=this;if(!e^n.$b3)return n;e?(n.$ax(),n.$b3=function(e){var t=n._conf.parseHash(location.hash);t&&n.setPage(t,!1!==e)},n.$b4=function(e){var t=n._conf.parseHash(e.detail);t&&n.setPage(t)},o.on(t,"hashchange",n.$b3),o.on(t,"historystatechange",n.$b4),n.$b3(!1)):(o.off(t,"hashchange",n.$b3),o.off(t,"historystatechange",n.$b4),n.$b3=null,n.$b4=null)},$ah:function(){var e=this;if(e.$b5)return e;var n=e._conf;return o.on(t,"beforeunload",function(){e.$aq(0)}),e.$as(n.enableSPA),e.activeErrHandler(!1),e.$b5=!0,e}}),o.on(t,"error",function(e){u&&u.errorHandler(e)}).on(t,"unhandledrejection",function(e){u&&u.errorHandler(e)}),e}},function(e,t,n){"use strict";var r=n(0);t.a=function(e,t){var n=r.a,a=null,i=function(e,t,r,a,i,o,s,c,u,f){var l=n.J(i)||null,p=n.$a8(t,[l,a],null);if(!p)return!1;var h=p.code||o,g=!("success"in p)||p.success;e.api(r,g,s,h,p.msg,c,u,f)},o="fetch",s="__oFetch_",c="__oXMLHttpRequest_",u="XMLHttpRequest";return n.ext(e.prototype,{removeHook:function(e,n){return a&&(n||this===a)?(t[s]&&(t[o]=t[s],delete t[s]),t[c]&&(t[u]=t[c],delete t[c]),a=null,this):this},addHook:function(e){return!e&&a?this:(a||(function(){if("function"==typeof t[o]){var e=t[o];t[s]=e,t[o]=function(r,o){var s=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),c=a;if(!c||!c.api)return e.apply(t,s);if(o&&("HEAD"===o.method||"no-cors"===o.mode))return e.apply(t,s);var u=Date.now(),f=c._conf,l=(r&&"string"!=typeof r?r.url:r)||"",p=l;if(l=n.$an(l),!n.$b6(l,!0))return e.apply(t,s);l=n.$am(l,f.ignoreApiPath);var h=f.enableLinkTrace,g="",d="",v=c.getConfig("pid");if(h){var y="";try{y=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){y=""}if(n.checkSameOrigin(p,y)){if(r&&"string"!=typeof r)try{if(s[0].headers&&"function"==typeof s[0].headers.get&&"function"==typeof s[0].headers.append){var m=s[0].headers.get("EagleEye-TraceID"),$=s[0].headers.get("EagleEye-SessionID"),b=s[0].headers.get("EagleEye-pAppName");m?g=m:(g=c.getTraceId()["EagleEye-TraceID"],s[0].headers.append("EagleEye-TraceID",g)),$?d=$:(d=c.getSessionId()["EagleEye-SessionID"],s[0].headers.append("EagleEye-SessionID",d)),b||s[0].headers.append("EagleEye-pAppName",v)}}catch(e){n.warn("[retcode] fetch failed to set header, exception is :\n"+e)}o&&(o.headers=o.headers?o.headers:{},o.headers["EagleEye-TraceID"]?g=o.headers["EagleEye-TraceID"]:(g=c.getTraceId()["EagleEye-TraceID"],o.headers["EagleEye-TraceID"]=g),o.headers["EagleEye-SessionID"]?d=o.headers["EagleEye-SessionID"]:(d=c.getSessionId()["EagleEye-SessionID"],o.headers["EagleEye-SessionID"]=d),o.headers["EagleEye-pAppName"]||(o.headers["EagleEye-pAppName"]=v))}}return e.apply(t,s).then(function(e){if(!c||!c.api)return e;var t=e.clone(),n=t.headers;if(n&&"function"==typeof n.get){var r=n.get("content-type");if(r&&!/(text)|(json)/.test(r))return e}var a=Date.now()-u;return t.ok?t.text().then(function(e){i(c,f.parseResponse,l,p,e,t.status||200,a,u,g,d)}):c.api(l,!1,a,t.status||404,t.statusText,u,g,d),e}).catch(function(e){if(!c||!c.api)throw e;var t=Date.now()-u;throw c.api(l,!1,t,e.name||"Error",e.message,u,g,d),e})},t[o].toString=n.$aw(o)}}(),function(){if("function"==typeof t[u]){var e=t[u];t[c]=e,t[u]=function(t){var r=new e(t),o=a;if(!o||!o.api||!r.addEventListener)return r;var s,c,u,f=r.send,l=r.open,p=r.setRequestHeader,h=o._conf,g=o.getConfig("enableLinkTrace"),d="",v="",y="";return r.open=function(e,t){var a=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);if(l.apply(r,a),u=t||"",c=n.$an(u),c=c?n.$am(c,h.ignoreApiPath):"",g){var i="";try{i=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){i=""}n.checkSameOrigin(u,i)&&p&&"function"==typeof p&&(d=o.getTraceId()["EagleEye-TraceID"],p.apply(r,["EagleEye-TraceID",d]),v=o.getSessionId()["EagleEye-SessionID"],p.apply(r,["EagleEye-SessionID",v]),y=o.getConfig("pid"),p.apply(r,["EagleEye-pAppName",y]))}},r.send=function(){s=Date.now();var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);f.apply(r,e)},n.on(r,"readystatechange",function(){if(c&&4===r.readyState){var e=Date.now()-s;if(r.status>=200&&r.status<=299){var t=r.status||200;if("function"==typeof r.getResponseHeader){var n=r.getResponseHeader("Content-Type");if(n&&!/(text)|(json)/.test(n))return}r.responseType&&"text"!==r.responseType?o.api(c,!0,e,t,"",s,d,v):i(o,h.parseResponse,c,u,r.responseText,t,e,s,d,v)}else o.api(c,!1,e,r.status||"FAILED",r.statusText,s,d,v)}}),r},t[u].toString=n.$aw(u)}}()),a=this,this)},$ai:function(){return this.$b7?this:(this.getConfig("disableHook")||this.addHook(),this.$b7=!0,this)}}),e}},function(e,t,n){"use strict";function r(e,t){var n=o[c]=new s(e);n.$ak(t);var r=n._conf;return!1!==r.autoSendPv&&n.$ar(),r&&r.useFmp||n.$au(),r&&r.sendResource&&n.$b0(),o[u]=!0,n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(0),o=window,s=o.BrowserLogger=a.a,c=i.a.key,u="__hasInitBlSdk";s.singleton=function(e,t){return o[u]?o[c]:r(e,t)},"object"==typeof window&&!!window.navigator&&o[c]&&(s.bl=function(){if(o[u])return o[c];var e={},t=[];return c in o&&(e=o[c].config||{},t=o[c].pipe||[]),r(e,t)}(o.__hasInitBlSdk))},function(e,t,n){"use strict";var r=n(0),a=n(3),i=r.a,o=a.a,s=["api","success","time","code","msg","trace","traceId","begin","sid","seq"],c=function(e,t){var n=e.split("::");return n.length>1?i.ext({group:n[0],key:n[1]},t):i.ext({group:"default_group",key:n[0]},t)},u=function(e){o.call(this,e);var t;try{t="object"==typeof performance?performance.timing.fetchStart:Date.now()}catch(e){t=Date.now()}return this._startTime=t,this};u.prototype=i.$al(o.prototype),i.ext(o.dftCon,{startTime:null}),i.ext(u.prototype,{constructor:u,_super:o,sum:function(e,t,n){try{return this._lg("sum",c(e,{val:t||1,begin:Date.now()}),n)}catch(e){i.warn("[retcode] can not get parseStatData: "+e)}},avg:function(e,t,n){try{return this._lg("avg",c(e,{val:t||0,begin:Date.now()}),n)}catch(e){i.warn("[retcode] can not get parseStatData: "+e)}},percent:function(e,t,n,r){try{return this._lg("percent",c(e,{subkey:t,val:n||0,begin:Date.now()}),r)}catch(e){i.warn("[retcode] can not get parseStatData: "+e)}},msg:function(e,t){if(e&&!(e.length>180))return this.custom({msg:e},t)},error:function(e,t){if(!e)return i.warn("[retcode] invalid param e: "+e),this;1===arguments.length?("string"==typeof e&&(e={message:e},t={}),"object"==typeof e&&(t=e=e.error||e)):("string"==typeof e&&(e={message:e}),"object"!=typeof t&&(t={}));var n=e.name||"CustomError",r=e.message,a=e.stack||"";t=t||{};var o={begin:Date.now(),cate:n,msg:r.substring(0,1e3),stack:a&&a.substring(0,1e3),file:t.filename||"",line:t.lineno||"",col:t.colno||"",err:{msg_raw:r,stack_raw:a}};return this.$ag&&this.$ag("error",o),this._lg("error",o,1)},api:function(e,t,n,r,a,o,c,u){return e?(e="string"==typeof e?{api:e,success:t,time:n,code:r,msg:a,begin:o,traceId:c,sid:u}:i.sub(e,s),i.$b6(e.api)?(e.code=e.code||"",e.msg=e.msg||"",e.success=e.success?1:0,e.time=+e.time,e.begin=e.begin,e.traceId=e.traceId||"",e.sid=e.sid||"",!e.api||isNaN(e.time)?(i.warn("[retcode] invalid time or api"),this):(this.$ag&&this.$ag("api",e),this._lg("api",e,e.success&&this.getConfig("sample")))):this):(i.warn("[retcode] api is null"),this)},speed:function(e,t,n){var r=this,a=this.getConfig("startTime")||this._startTime;return/^s(\d|1[0])$/.test(e)?(t="number"!=typeof t?Date.now()-a:t>=a?t-a:t,r.$b1=r.$b1||{},r.$b1[e]=t,r.$b1.begin=a,clearTimeout(r.$b2),r.$b2=setTimeout(function(){n||(r.$b1.page=r.$a7(!0)),r._lg("speed",r.$b1),r.$b1=null},5e3),r):(i.warn("[retcode] invalid point: "+e),r)}}),u._super=o,u._root=o,o.Reporter=u,t.a=u}]);